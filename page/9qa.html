---
layout: default
title: 问答
permalink: /qa/
icon: th-list
type: page
---

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
        var qalist = [
            {
                "q": "Mysql 包含哪些组件，他们分别有什么作用？",
                "a": "未知"
            }, {
                "q": "Mysql 中 update 语句的执行流程是怎样的？",
                "a": "未知"
            }, {
                "q": "Mysql 中 redo log 和 binlog 有什么区别和联系？",
                "a": "未知"
            }, {
                "q": "Mysql 的隔离级别有几种，分别解决了什么问题？",
                "a": "分为：读未提交、读提交、可重复读、串行化。因为事务并发可能存在问题，例如：脏读、幻读（增删的记录前后不一致）、不可重复读（修改的记录前后不一致）等问题。"
            }, {
                "q": "MVCC 了解吗？",
                "a": "英文全称为 Multi-Version Concurrent Control，即：多版本并发控制，目的是为了提高数据库并发性能。" +
                    "同一行数据平时在发生读写请求时，会上锁阻塞。但 MVCC 用更好的方法去处理读-写请求，做到在发生读-写请求冲突时不用加锁。" +
                    "当然，这儿的读指的是快照读，而非当前读，当前读是一种加锁操作，是悲观锁。"
            }
        ];

        var num = 20;
        var existed = [];

        $("#reset").click(function () {
            $("#content").html("");
            existed = [];
        });

        $("#next").click(function () {
            while (true) {
                if (existed.length >= num || existed.length >= qalist.length) {
                    break;
                }
                if (!insert()) {
                    break;
                }
            }
        });

        $("#nextAll").click(function () {
            while (true) {
                if (existed.length >= num || existed.length >= qalist.length) {
                    break;
                }
                insert();
            }
        });

        $("body").on('click', '.question', function () {
            var node = $(this).next();
            if (node.is(':hidden')) {
                node.show();
            } else {
                node.hide();
            }
        });

        function insert() {
            var rand = Math.round(Math.random() * qalist.length);
            if (rand >= qalist.length || rand < 0) {
                return false;
            }
            var isContain = false;
            for (var i in existed) {
                if (rand === existed[i]) {
                    isContain = true;
                }
            }
            if (!isContain) {
                existed.push(rand);
                $("#content").append("<p class='question' style='word-break: break-all;word-wrap: break-word;overflow: hidden'>q: " + qalist[rand].q + "</p>" +
                    "<p class='answer' style='display: none;'>a: " + qalist[rand].a + "</p><hr/>");
            }
            return isContain;
        }
    });
</script>
<body>
<button id="next" style="float: right;">Next</button>
<button id="nextAll" style="float: right;">NextAll</button>
<button id="reset" style="float: right;">Reset</button>
<div id="content">
</div>
